(function(c){c.fn.ytVideos=function(b){return this.each(function(){$ytVideos=c(this);b=c.extend({rowSize:0,tooltips:!1,user:""},b);var f=$ytVideos.text().replace(/youtube (id|keyword):/i,""),a="?v=2&alt=jsonc&callback=?",a=0<b.user.length?"http://gdata.youtube.com/feeds/api/users/"+b.user+"/uploads"+a:"http://gdata.youtube.com/feeds/api/videos"+a;0<f.length&&(a+='&q="'+f+'"');0<b.count&&(a+="&max-results="+b.count);ytDone=!1;$ytVideos.empty();c.getJSON(a,function(a){if(0<a.data.totalItems){$ytVideos.append('<div class="ytPlayer"><div id="player" /></div>');
if(1<a.data.itemsPerPage){$ytVideos.append('<div class="ytThumbs" />');var f=$ytVideos.find("div.ytThumbs")}c.each(a.data.items,function(b,d){if(0==b){onYouTubePlayerAPIReady=function(){player=new YT.Player("player",{height:"100%",width:"100%",videoId:d.id,playerVars:{autohide:1,rel:0,modestbranding:1},events:{onStateChange:function(a){a.data==YT.PlayerState.PLAYING&&!ytDone&&(_gat._getTrackerByName()._trackEvent("Media","YouTube Video",d.player["default"]),ytDone=!0)}}})};var e=document.createElement("script");
e.src="http://www.youtube.com/player_api";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g);currentVid=d.id}e=d.title.replace(/team oil tools \- /i,"");1<a.data.itemsPerPage&&(f.append('<div class="ytThumb"><a class="ytLink" href="'+d.player["default"]+'" target="_blank" rel="'+d.id+'" ><img src="'+d.thumbnail.sqDefault+'" alt="'+e+'" title="'+e+'" /><div class="ytTitle">'+e+"</div></a></div>"),f.find("a.ytLink").click(function(a){a.preventDefault();a=c(this).attr("rel");
a!==currentVid?(currentVid=a,ytDone=!0,player.loadVideoById(a),_gat._getTrackerByName()._trackEvent("Media","YouTube Video",c(this).attr("href"))):player.playVideo()}))});$ytVideos.append('<div class="clear"></div>');1==b.tooltips&&setTimeout(function(){$ytVideos.find("div.ytThumbs div.ytThumb img").tooltip({effect:"slide",position:"center right",offset:[0,10],opacity:0.9,predelay:200})},500);0!=b.rowSize&&setTimeout(function(){$ytVideos.find("div.ytThumbs div.ytThumb:nth-child("+b.rowSize+"n)").addClass("last")},
500)}})})}})(jQuery);